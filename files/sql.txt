CREATE TABLE `managefilesystem_db`.`user` ( `UserID` INT NOT NULL AUTO_INCREMENT , `Name` VARCHAR(50) NULL , `Email` VARCHAR(50) NULL , `Room` VARCHAR(10) NULL , `MSSV` VARCHAR(50) NULL , `RoleID` INT NULL , PRIMARY KEY (`UserID`)) ENGINE = InnoDB;
CREATE TABLE `managefilesystem_db`.`role` ( `RoleID` INT NOT NULL AUTO_INCREMENT , `Name` VARCHAR(50) NULL , PRIMARY KEY (`RoleID`)) ENGINE = InnoDB;
INSERT INTO `role` (`RoleID`, `Name`) VALUES (NULL, 'Admin'), (NULL, 'User');
CREATE TABLE `managefilesystem_db`.`login` ( `UserID` INT NOT NULL AUTO_INCREMENT , `Username` VARCHAR(50) NULL , `Password` VARCHAR(50) NULL , PRIMARY KEY (`UserID`)) ENGINE = InnoDB;
ALTER TABLE user
ADD CONSTRAINT RoleID_FK FOREIGN KEY (RoleID) REFERENCES role(RoleID)
ALTER TABLE user
ADD CONSTRAINT login FOREIGN KEY (UserID) REFERENCES login(UserID)
CREATE TABLE `managefilesystem_db`.`file` ( `FileID` INT NOT NULL AUTO_INCREMENT , `Name` VARCHAR(50) NULL , `Status` VARCHAR(50) NULL , `CreateAt` DATETIME NULL , `ModifyAt` DATETIME NULL , `DeleteAt` DATETIME NULL , `Path` VARCHAR(50) NULL , `Decription` VARCHAR(50) NULL , `Size` VARCHAR(10) NULL , `UserID` INT NULL , `DownloadCount` INT NULL , PRIMARY KEY (`FileID`)) ENGINE = InnoDB;
ALTER TABLE `file` ADD CONSTRAINT `userId_FK` FOREIGN KEY (`UserID`) REFERENCES `user`(`UserID`) ON DELETE RESTRICT ON UPDATE RESTRICT;
CREATE TABLE `managefilesystem_db`.`file_cate` ( `FileCateID` INT NOT NULL AUTO_INCREMENT , `CateID` INT NULL , `FileID` INT NULL , PRIMARY KEY (`FileCateID`)) ENGINE = InnoDB;
CREATE TABLE `managefilesystem_db`.`category` ( `CateID` INT NOT NULL AUTO_INCREMENT , `Name` VARCHAR(50) NULL , PRIMARY KEY (`CateID`)) ENGINE = InnoDB;
ALTER TABLE `file_cate` ADD CONSTRAINT `cateID_FK` FOREIGN KEY (`CateID`) REFERENCES `category`(`CateID`) ON DELETE RESTRICT ON UPDATE RESTRICT;
ALTER TABLE `file_cate` ADD CONSTRAINT `fileID_FK` FOREIGN KEY (`FileID`) REFERENCES `file`(`FileID`) ON DELETE RESTRICT ON UPDATE RESTRICT;
